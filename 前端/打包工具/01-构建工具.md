# 构建工具

什么是构建工具：是一个把源代码生成可执行应用程序的过程自动化的程序

运行环境：服务端（并非运行在前端环境）

市面常见的构建工具：webpack、vite、esbuild、parcel、rollup等（国内常用的是前三个）

如果不想使用构建工具，想手动配置并打包，则需要先初始化项目：`yarn/npm init -y`（会生成package.json文件），然后再一个个安装插件，最后手动执行[相关插件](#项目执行逻辑)以打包

## 打包

概念：将浏览器不识别的代码交给构建工具进行编译处理的过程就叫打包

打包完成后会输出一个浏览器认识的文件

## 项目执行逻辑

浏览器只认识HTML、CSS、JS文件

1、typescript：如果遇到ts文件，需要tsc将typescript代码转化为js代码

2、React / Vue：安装 react-compiler / vue-compiler ，将jsx文件或vue文件转化为render函数

3、less / sass / postcss / component-style：安装less-loader / sass-loader 等一系列编译工具

4、语法降级：babel，将es的新语法转换成旧版浏览器可以接受的语法

5、体积优化：uglifyjs，将代码进行压缩（如多行代码，去掉多余的换行、空格，使其变为一行，如jquery.js），使代码变成体积更小性能更高的文件

6、......

## 使用理由

如果在项目中稍微变动一点点东西，就需要[从1执行到6](#项目执行逻辑)（必须顺序执行），非常麻烦；构建工具就是将1-6这些全部集成到一起，让开发者只关注代码本身，当代码改变时自动执行1-6的操作并输出

优点：

> 1、模块化开发支持：支持[直接从node_modules里引入代码](..\JS笔记\05-ES6.md) + 多种模块化支持（支持用import和require引入模块）
>
> 2、处理代码兼容性：如babel语法降级，less、ts语法转换（非构建工具本身做的，是构建工具将这些语法对应的处理工具集成进来自动化处理）
>
> 3、[提高项目性能](./03-Vite.md)：压缩文件，代码分割
>
> 4、优化开发体验：
>
> > 自动监听文件变化，当文件变化后自动调用对应的集成工具进行重新打包，然后再在浏览器重新运行（整个过程叫做热更新hot replacement）
> >
> > 开发服务器：解决跨域问题，如react-cli的create-react-element或vue的vue-cli，解决跨域问题（原因：？？？？）

